<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>YÃ¶netici Paneli - Grup ve Puan YÃ¶netimi</title>
    <link rel="stylesheet" href="style.css">
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
</head>
<body>
    <!-- Åifre GiriÅŸ ModalÄ± -->
    <div id="login-modal" style="display: block;">
        <div class="login-container">
            <h2>ğŸ” YÃ¶netici GiriÅŸi</h2>
            <div class="form-group">
                <label for="admin-username">KullanÄ±cÄ± AdÄ±:</label>
                <input type="text" id="admin-username" placeholder="KullanÄ±cÄ± adÄ±nÄ±zÄ± girin">
            </div>
            <div class="form-group">
                <label for="admin-password">Åifre:</label>
                <input type="password" id="admin-password" placeholder="Åifrenizi girin">
            </div>
            <button onclick="girisKontrol()" style="width: 100%; margin-top: 20px;">GiriÅŸ Yap</button>
            <p id="login-error" style="color: var(--danger-color); margin-top: 10px; display: none;">KullanÄ±cÄ± adÄ± veya ÅŸifre hatalÄ±!</p>
        </div>
    </div>

    <div id="admin-content" style="display: none;">
    <header>
        <h1>ğŸ‘¨â€ğŸ« Ã–ÄŸretmen Paneli ğŸ¯</h1>
    </header>

    <nav>
        <a href="index.html">ğŸ  Ana Sayfa</a> | 
        <a href="student.html">ğŸ“ Ã–ÄŸrenci SayfasÄ±</a>
    </nav>

    <main id="admin-paneli">
        <section id="kontrol-alani">
            <h2>ğŸ‘¥ Grup OluÅŸturma</h2>
            <label for="sinifSecimi">SÄ±nÄ±f SeÃ§in:</label>
            <select id="sinifSecimi"></select>

            <label for="grupSayisi">Grup SayÄ±sÄ±:</label>
            <input type="number" id="grupSayisi" min="2" value="4">

            <button onclick="gruplariOlustur()">GruplarÄ± Rastgele DaÄŸÄ±t ve Kaydet</button>
            <button onclick="tumVerileriGuncelle()" class="refresh-btn">Verileri Yenile/GÃ¼ncelle</button>
        </section>

        <hr>

        <section id="islemler-alani">
            <h2>â­ Puanlama ve DevamsÄ±zlÄ±k Ä°ÅŸlemleri</h2>
            <div id="puan-butonlari">
                </div>
            
            <h3>ğŸ“‹ DevamsÄ±zlÄ±k Takibi (Gruplara Dahil Olmaz)</h3>
            <div id="devamsiz-listesi">
                </div>
        </section>
        
        <hr>

        <section id="grup-tablolari">
            <h2>ğŸ… Gruplar ve Puanlar</h2>
            <div id="gruplar-container">
                </div>
        </section>

        <hr>

        <section id="veri-ekleme-alani">
            <h2>â• Ã–ÄŸrenci Ekle</h2>
            
            <div class="tabs">
                <button class="tab-button active" onclick="acTab('tek-tek')">ğŸ“ Tek Tek Ekle</button>
                <button class="tab-button" onclick="acTab('toplu')">ğŸ“‹ Toplu Ekle</button>
            </div>

            <!-- Tek Tek Ekleme -->
            <div id="tek-tek-tab" class="tab-content active">
                <div class="form-group">
                    <label for="yeniOgrenciAd">Ã–ÄŸrenci AdÄ± SoyadÄ±:</label>
                    <input type="text" id="yeniOgrenciAd" placeholder="Ã–ÄŸrencinin AdÄ± SoyadÄ±" required>
                </div>
                <div class="form-group">
                    <label for="yeniOgrenciNo">Ã–ÄŸrenci NumarasÄ±:</label>
                    <input type="text" id="yeniOgrenciNo" placeholder="Ã–rn: 123" required>
                </div>
                <div class="form-group">
                    <label for="yeniOgrenciCinsiyet">Cinsiyet:</label>
                    <select id="yeniOgrenciCinsiyet" required>
                        <option value="">SeÃ§iniz...</option>
                        <option value="e">Erkek</option>
                        <option value="k">KÄ±z</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="hedefSinifSecimi">Hedef SÄ±nÄ±f:</label>
                    <select id="hedefSinifSecimi"></select>
                </div>
                <button onclick="yeniOgrenciEkle()">âœ¨ SÄ±nÄ±fa Ekle</button>
            </div>

            <!-- Toplu Ekleme -->
            <div id="toplu-tab" class="tab-content">
                <p><strong>Toplu Ã¶ÄŸrenci ekleme formatÄ±:</strong></p>
                <p style="font-size: 0.9em; color: var(--text-light); margin-bottom: 15px;">
                    Her satÄ±ra bir Ã¶ÄŸrenci bilgisi girin. Format: <strong>SÄ±nÄ±f - Numara - Ad Soyad - Cinsiyet (E/K)</strong><br>
                    Ã–rnek:<br>
                    <code style="background: #f1f5f9; padding: 2px 5px; border-radius: 4px;">10A - 123 - Ahmet YÄ±lmaz - E</code><br>
                    <code style="background: #f1f5f9; padding: 2px 5px; border-radius: 4px;">10A - 456 - AyÅŸe Kaya - K</code>
                </p>
                <div class="form-group">
                    <label for="topluOgrenciListesi">Ã–ÄŸrenci Listesi:</label>
                    <textarea id="topluOgrenciListesi" rows="15" placeholder="10A - 123 - Ahmet YÄ±lmaz - E&#10;10A - 456 - AyÅŸe Kaya - K&#10;11B - 789 - Mehmet Demir - E" style="width: 100%; padding: 12px; border: 2px solid #e2e8f0; border-radius: 12px; font-family: monospace; font-size: 0.95em; resize: vertical;"></textarea>
                </div>
                <button onclick="topluOgrenciEkle()" class="refresh-btn">ğŸ“¥ Toplu Ekle</button>
                <button onclick="ornekVeriYukle()" style="background: linear-gradient(135deg, var(--info-color), #2563eb);">ğŸ“‹ Ã–rnek Veri YÃ¼kle</button>
            </div>
        </section>
        
        <hr>

        <section id="yonetim-alani">
            <h2>ğŸ› ï¸ YÃ¶netim Ä°ÅŸlemleri</h2>

            <h3>âœï¸ Ã–ÄŸrenci Bilgilerini DÃ¼zenle</h3>
            <div class="form-group">
                <label for="duzenlenecekSinifSecim">SÄ±nÄ±f SeÃ§:</label>
                <select id="duzenlenecekSinifSecim" onchange="ogrenciListesiGuncelle()"></select>
            </div>
            <div class="form-group">
                <label for="duzenlenecekOgrenci">Ã–ÄŸrenci SeÃ§:</label>
                <select id="duzenlenecekOgrenci" onchange="ogrenciBilgileriniYukle()"></select>
            </div>
            <div class="form-group">
                <label for="yeniOgrenciAdDuzenle">Ad Soyad:</label>
                <input type="text" id="yeniOgrenciAdDuzenle" placeholder="Ã–ÄŸrenci AdÄ± SoyadÄ±">
            </div>
            <div class="form-group">
                <label for="duzenlenecekOgrenciNo">Ã–ÄŸrenci NumarasÄ±:</label>
                <input type="text" id="duzenlenecekOgrenciNo" placeholder="Ã–ÄŸrenci NumarasÄ±">
            </div>
            <div class="form-group">
                <label for="duzenlenecekOgrenciCinsiyet">Cinsiyet:</label>
                <select id="duzenlenecekOgrenciCinsiyet">
                    <option value="">SeÃ§iniz...</option>
                    <option value="e">Erkek</option>
                    <option value="k">KÄ±z</option>
                </select>
            </div>
            <div class="form-group">
                <label for="yeniOgrenciSinifSecim">Yeni SÄ±nÄ±f:</label>
                <select id="yeniOgrenciSinifSecim">
                    <option value="">SÄ±nÄ±f DeÄŸiÅŸtirme</option>
                </select>
            </div>
            <button onclick="ogrenciBilgileriniGuncelle()">ğŸ’¾ Bilgileri GÃ¼ncelle</button>

            <hr>
            <h3>Yeni SÄ±nÄ±f Ekle</h3>
<p>Sisteme yeni bir sÄ±nÄ±f ismi tanÄ±mlayÄ±n (Ã–rn: 12C).</p>
<div class="form-group">
    <input type="text" id="yeniSinifAd" placeholder="SÄ±nÄ±f AdÄ± (Ã–rn: 9A)">
    <button onclick="yeniSinifEkle()" class="add-btn">SÄ±nÄ±fÄ± OluÅŸtur</button>
</div>

            <h3>SÄ±nÄ±fÄ± Sil</h3>
            <p>SeÃ§ilen sÄ±nÄ±fÄ± ve tÃ¼m Ã¶ÄŸrencilerini sistemden kalÄ±cÄ± olarak siler.</p>
            <div class="form-group">
                <label for="silinecekSinifSecim">Silinecek SÄ±nÄ±f:</label>
                <select id="silinecekSinifSecim"></select>
                <button onclick="sinifiSil()" class="delete-btn">SÄ±nÄ±fÄ± Sil (KalÄ±cÄ±)</button>
            </div>
        </section>
    </main>
    </div>

    <script src="firebase-config.js"></script>
    <script src="script.js"></script>
</body>
</html>